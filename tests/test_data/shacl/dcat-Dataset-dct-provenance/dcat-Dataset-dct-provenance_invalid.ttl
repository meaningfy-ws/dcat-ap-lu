@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dct:  <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ex:   <http://example.org/> .

# Shared required supporting nodes
ex:publisher-1 a foaf:Agent ; foaf:name "Example publisher"@en .
ex:rights-1 a dct:RightsStatement .

# Distributions (each valid: rights + typed accessURL)
ex:dist-101 a dcat:Distribution ; dct:rights ex:rights-1 ; dcat:accessURL "http://example.org/download/dataset-101"^^rdfs:Resource .
ex:dist-102 a dcat:Distribution ; dct:rights ex:rights-1 ; dcat:accessURL "http://example.org/download/dataset-102"^^rdfs:Resource .
ex:dist-103 a dcat:Distribution ; dct:rights ex:rights-1 ; dcat:accessURL "http://example.org/download/dataset-103"^^rdfs:Resource .
ex:dist-104 a dcat:Distribution ; dct:rights ex:rights-1 ; dcat:accessURL "http://example.org/download/dataset-104"^^rdfs:Resource .

############################################################
# Invalid 1: WRONG CLASS (foaf:Agent instead of dct:ProvenanceStatement)
############################################################
ex:prov-wrong-class a foaf:Agent ; foaf:name "Not provenance"@en .

ex:dataset-prov-wrong-class a dcat:Dataset ;
  dct:identifier  "dataset-101" ;
  dct:title       "Invalid provenance - wrong class"@en ;
  dct:description "provenance points to foaf:Agent."@en ;
  dct:publisher   ex:publisher-1 ;
  dct:rights      ex:rights-1 ;
  dcat:distribution ex:dist-101 ;
  dct:provenance  ex:prov-wrong-class .

############################################################
# Invalid 2: UNTYPED NODE (not declared as dct:ProvenanceStatement)
############################################################
ex:prov-untyped dct:description "Untyped provenance node."@en .

ex:dataset-prov-untyped a dcat:Dataset ;
  dct:identifier  "dataset-102" ;
  dct:title       "Invalid provenance - untyped node"@en ;
  dct:description "provenance points to a node missing rdf:type dct:ProvenanceStatement."@en ;
  dct:publisher   ex:publisher-1 ;
  dct:rights      ex:rights-1 ;
  dcat:distribution ex:dist-102 ;
  dct:provenance  ex:prov-untyped .

############################################################
# Invalid 3: LITERAL value (fails sh:class constraint)
############################################################
ex:dataset-prov-literal a dcat:Dataset ;
  dct:identifier  "dataset-103" ;
  dct:title       "Invalid provenance - literal"@en ;
  dct:description "provenance is a literal, must be a dct:ProvenanceStatement resource."@en ;
  dct:publisher   ex:publisher-1 ;
  dct:rights      ex:rights-1 ;
  dcat:distribution ex:dist-103 ;
  dct:provenance  "Derived from older data"@en .

############################################################
# Invalid 4: SYMMETRIC CYCLE (caught by sh:sparql)
# dataset -> provenance -> dataset using the SAME predicate dct:provenance
############################################################
ex:prov-cycle a dct:ProvenanceStatement ;
  dct:description "This provenance links back to dataset (cycle)."@en ;
  dct:provenance ex:dataset-prov-cycle .

ex:dataset-prov-cycle a dcat:Dataset ;
  dct:identifier  "dataset-104" ;
  dct:title       "Invalid provenance - cycle"@en ;
  dct:description "Cycle detected by SPARQL constraint."@en ;
  dct:publisher   ex:publisher-1 ;
  dct:rights      ex:rights-1 ;
  dcat:distribution ex:dist-104 ;
  dct:provenance  ex:prov-cycle .
